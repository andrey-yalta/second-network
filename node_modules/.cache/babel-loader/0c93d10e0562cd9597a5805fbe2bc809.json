{"ast":null,"code":"var _jsxFileName = \"/Users/andrejzaharcenko/Desktop/second-network/src/components/Users/UsersAPIContainer.js\";\nimport React from \"react\";\nimport s from \"./Users.module.css\";\nimport userIcon from \"./../../common/img/userIcon.png\";\nimport * as axios from \"axios\";\nimport Users from \"./Users\";\nimport PreloaderImg from \"../../common/img/circles.svg\";\nimport { toggleIsFetching } from \"../../redux/users-reducer\";\n\nclass UsersAPIContainer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    debugger;\n    this.props.toggleIsFetching(true);\n    axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`).then(response => {\n      this.props.setUsers(response.data.items);\n      this.props.setTotalUsersCount(response.data.totalCount);\n      this.props.toggleIsFetching(false);\n    });\n    debugger;\n  } //в компоненте снизу можно обращатся к функциям через this напрямую, потому что в рендере Users мы раскукожили props\n\n\n  onPageChange(p) {\n    this.changeCurrentPage(p);\n    this.toggleIsFetching(true);\n    debugger;\n    axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${p}&count=${this.pageSize}`).then(response => {\n      this.setUsers(response.data.items);\n      this.toggleIsFetching(false);\n    });\n    debugger;\n  }\n\n  paginator() {}\n\n  render() {\n    let pageCount = this.props.totalCount / this.props.pageSize;\n    let pages = [];\n    {\n      /*захардкодил число страниц - потом надо будет сделать нормально*/\n    }\n\n    for (let i = 1; i < 40; i++) {\n      pages.push(i);\n    }\n\n    debugger;\n\n    if (this.props.isFetching) {\n      console.log(\"fetching true\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, \"Loading... \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: s.preloader,\n        src: PreloaderImg,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 42\n        }\n      }));\n    } else {\n      console.log(\"fetching false\");\n      return /*#__PURE__*/React.createElement(Users, Object.assign({\n        pages: pages\n      }, this.props, {\n        onPageChange: this.onPageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }));\n    }\n  }\n\n}\n\nexport default UsersAPIContainer;","map":{"version":3,"sources":["/Users/andrejzaharcenko/Desktop/second-network/src/components/Users/UsersAPIContainer.js"],"names":["React","s","userIcon","axios","Users","toggleIsFetching","UsersAPIContainer","Component","constructor","props","componentDidMount","get","currentPage","pageSize","then","response","setUsers","data","items","setTotalUsersCount","totalCount","onPageChange","p","changeCurrentPage","paginator","render","pageCount","pages","i","push","isFetching","console","log","preloader","PreloaderImg"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,oBAAd;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,SAAQC,gBAAR,QAA+B,2BAA/B;;AAGA,MAAMC,iBAAN,SAAgCN,KAAK,CAACO,SAAtC,CAAgD;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB;AACA,SAAKD,KAAL,CAAWJ,gBAAX,CAA4B,IAA5B;AACAF,IAAAA,KAAK,CAACQ,GAAN,CAAW,2DAA0D,KAAKF,KAAL,CAAWG,WAAY,UAAS,KAAKH,KAAL,CAAWI,QAAS,EAAzH,EACKC,IADL,CACUC,QAAQ,IAAI;AACd,WAAKN,KAAL,CAAWO,QAAX,CAAoBD,QAAQ,CAACE,IAAT,CAAcC,KAAlC;AACA,WAAKT,KAAL,CAAWU,kBAAX,CAA8BJ,QAAQ,CAACE,IAAT,CAAcG,UAA5C;AACA,WAAKX,KAAL,CAAWJ,gBAAX,CAA4B,KAA5B;AACH,KALL;AAMA;AACH,GAf2C,CAiB5C;;;AACAgB,EAAAA,YAAY,CAACC,CAAD,EAAI;AACZ,SAAKC,iBAAL,CAAuBD,CAAvB;AACA,SAAKjB,gBAAL,CAAsB,IAAtB;AACA;AACAF,IAAAA,KAAK,CAACQ,GAAN,CAAW,2DAA0DW,CAAE,UAAS,KAAKT,QAAS,EAA9F,EACKC,IADL,CACUC,QAAQ,IAAI;AACd,WAAKC,QAAL,CAAcD,QAAQ,CAACE,IAAT,CAAcC,KAA5B;AACA,WAAKb,gBAAL,CAAsB,KAAtB;AACH,KAJL;AAKA;AACH;;AAEDmB,EAAAA,SAAS,GAAG,CACX;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAIC,SAAS,GAAG,KAAKjB,KAAL,CAAWW,UAAX,GAAwB,KAAKX,KAAL,CAAWI,QAAnD;AACA,QAAIc,KAAK,GAAG,EAAZ;AACA;AAAC;AACA;;AACD,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzBD,MAAAA,KAAK,CAACE,IAAN,CAAWD,CAAX;AACH;;AACD;;AACA,QAAI,KAAKnB,KAAL,CAAWqB,UAAf,EAA2B;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhB,eAAqB;AAAK,QAAA,SAAS,EAAE/B,CAAC,CAACgC,SAAlB;AAA6B,QAAA,GAAG,EAAEC,YAAlC;AAAgD,QAAA,GAAG,EAAC,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArB,CAAR;AACH,KAHD,MAGO;AACHH,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEA,0BAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEL;AAAd,SAAyB,KAAKlB,KAA9B;AAAqC,QAAA,YAAY,EAAE,KAAKY,YAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ;AAIH;AACJ;;AArD2C;;AAwDhD,eAAef,iBAAf","sourcesContent":["import React from \"react\";\nimport s from \"./Users.module.css\"\nimport userIcon from \"./../../common/img/userIcon.png\"\nimport * as axios from \"axios\"\nimport Users from \"./Users\";\nimport PreloaderImg from \"../../common/img/circles.svg\";\nimport {toggleIsFetching} from \"../../redux/users-reducer\";\n\n\nclass UsersAPIContainer extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        debugger;\n        this.props.toggleIsFetching(true);\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`)\n            .then(response => {\n                this.props.setUsers(response.data.items);\n                this.props.setTotalUsersCount(response.data.totalCount)\n                this.props.toggleIsFetching(false);\n            })\n        debugger;\n    }\n\n    //в компоненте снизу можно обращатся к функциям через this напрямую, потому что в рендере Users мы раскукожили props\n    onPageChange(p) {\n        this.changeCurrentPage(p)\n        this.toggleIsFetching(true);\n        debugger;\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${p}&count=${this.pageSize}`)\n            .then(response => {\n                this.setUsers(response.data.items)\n                this.toggleIsFetching(false);\n            })\n        debugger;\n    }\n\n    paginator() {\n    }\n\n    render() {\n        let pageCount = this.props.totalCount / this.props.pageSize\n        let pages = [];\n        {/*захардкодил число страниц - потом надо будет сделать нормально*/\n        }\n        for (let i = 1; i < 40; i++) {\n            pages.push(i);\n        }\n        debugger;\n        if (this.props.isFetching) {\n            console.log(\"fetching true\")\n            return (<div>Loading... <br/><img className={s.preloader} src={PreloaderImg} alt=\"\"/></div>)\n        } else {\n            console.log(\"fetching false\");\n\n            return (\n\n                <Users pages={pages} {...this.props} onPageChange={this.onPageChange}/>\n            )\n        }\n    }\n}\n\nexport default UsersAPIContainer;"]},"metadata":{},"sourceType":"module"}