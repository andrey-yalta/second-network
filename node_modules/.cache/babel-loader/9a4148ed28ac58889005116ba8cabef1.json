{"ast":null,"code":"import { profileAPI } from \"../api/api\";\nconst SET_PROFILE = \"SET-PROFILE\";\nconst SET_PROFILE_STATUS = \"SET-PROFILE-STATUS\";\nlet initialState = {\n  posts: [{\n    text: \"post 1 \",\n    id: 1,\n    like: 12\n  }, {\n    text: \"post 2 \",\n    id: 2,\n    like: 13\n  }, {\n    text: \"post 3 \",\n    id: 3,\n    like: 15\n  }, {\n    text: \"post 4 \",\n    id: 4,\n    like: 2\n  }],\n  currentValue: \"\",\n  profile: {},\n  isFetching: false,\n  status: \"\"\n};\n\nlet profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD-POST\":\n      {\n        let newState = { ...state,\n          posts: [...state.posts]\n        };\n        newState.posts.push({\n          text: action.value,\n          id: 6,\n          like: 2\n        }); // newState.currentValue =\"\";\n\n        return newState;\n      }\n\n    case \"POST-CHANGED\":\n      {\n        let newState = { ...state\n        };\n        newState.currentValue = action.value;\n        return newState;\n      }\n\n    case \"SET-PROFILE\":\n      {\n        return { ...state,\n          profile: { ...action.profile\n          }\n        };\n      }\n\n    case \"SET-PROFILE-STATUS\":\n      {\n        return { ...state,\n          status: action.statusValue\n        };\n      }\n\n    case \"TOGGLE-IS-FETCHING\":\n      {\n        return { ...state,\n          isFetching: action.isFetchingValue\n        };\n      }\n\n    case \"SAVE-PHOTO-SUCCESS\":\n      {\n        return { ...state,\n          profile: { ...state.profile,\n            photos: action.photos\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default profileReducer;\nexport const toggleIsFetching = isFetchingValue => ({\n  type: \"TOGGLE-IS-FETCHING\",\n  isFetchingValue: isFetchingValue\n});\nexport const setProfile = profile => ({\n  type: SET_PROFILE,\n  profile: profile\n});\nexport const setStatus = statusValue => ({\n  type: SET_PROFILE_STATUS,\n  statusValue: statusValue\n});\nexport const savePhotoSuccess = photos => ({\n  type: \"SAVE-PHOTO-SUCCESS\",\n  photos: photos\n});\nexport const getUserProfileThunkCreator = userId => async dispatch => {\n  let data = await profileAPI.getProfile(userId);\n  dispatch(setProfile(data));\n};\nexport const getUserProfileStatusThunkCreator = userId => async dispatch => {\n  let data = await profileAPI.getProfileStatus(userId);\n  dispatch(setStatus(data));\n};\nexport const changeProfileStatusThunkCreator = status => {\n  return dispatch => {\n    profileAPI.changeProfileStatus(status).then(data => {\n      if (data.resultCode === 0) {\n        dispatch(setStatus(status));\n      }\n    });\n  };\n};\nexport const savePhotoThunkCreator = filePhoto => {\n  return dispatch => {\n    profileAPI.savePhoto(filePhoto).then(data => {\n      if (data.resultCode === 0) {\n        dispatch(savePhotoSuccess(data.data.photos));\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/andrejzaharcenko/Desktop/second-network/src/redux/profile-reducer.js"],"names":["profileAPI","SET_PROFILE","SET_PROFILE_STATUS","initialState","posts","text","id","like","currentValue","profile","isFetching","status","profileReducer","state","action","type","newState","push","value","statusValue","isFetchingValue","photos","toggleIsFetching","setProfile","setStatus","savePhotoSuccess","getUserProfileThunkCreator","userId","dispatch","data","getProfile","getUserProfileStatusThunkCreator","getProfileStatus","changeProfileStatusThunkCreator","changeProfileStatus","then","resultCode","savePhotoThunkCreator","filePhoto","savePhoto"],"mappings":"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","sourcesContent":["import {profileAPI} from \"../api/api\";\n\nconst SET_PROFILE = \"SET-PROFILE\";\nconst SET_PROFILE_STATUS = \"SET-PROFILE-STATUS\";\n\nlet initialState ={\n\n        posts: [\n            {text: \"post 1 \", id: 1, like: 12},\n            {text: \"post 2 \", id: 2, like: 13},\n            {text: \"post 3 \", id: 3, like: 15},\n            {text: \"post 4 \", id: 4, like: 2},\n        ],\n        currentValue: \"\",\n        profile: {},\n        isFetching:false,\n        status:\"\",\n\n}\nlet  profileReducer =(state = initialState,action)=>{\n    switch (action.type) {\n        case \"ADD-POST\":{\n\n            let newState ={...state,\n            posts:[...state.posts]};\n\n            newState.posts.push({text: action.value , id: 6, like: 2});\n            // newState.currentValue =\"\";\n\n            return newState;}\n        case \"POST-CHANGED\":{\n\n            let newState = {...state};\n            newState.currentValue = action.value;\n            return newState;}\n        case \"SET-PROFILE\":{\n\n            return { ...state, profile: {...action.profile}};\n        }\n        case \"SET-PROFILE-STATUS\":{\n\n            return { ...state, status: action.statusValue};\n        }\n        case \"TOGGLE-IS-FETCHING\":{\n\n            return {...state, isFetching: action.isFetchingValue};\n        }\n        case \"SAVE-PHOTO-SUCCESS\":{\n            return {...state, profile: {...state.profile, photos:action.photos}}\n        }\n        default:\n            return state;\n    }\n}\nexport default profileReducer;\nexport const toggleIsFetching =(isFetchingValue)=>({type:\"TOGGLE-IS-FETCHING\",isFetchingValue:isFetchingValue })\nexport const setProfile =(profile)=>({type:SET_PROFILE, profile:profile});\nexport const setStatus =(statusValue)=>({type:SET_PROFILE_STATUS, statusValue:statusValue});\nexport const savePhotoSuccess =(photos)=>({type:\"SAVE-PHOTO-SUCCESS\", photos:photos})\nexport const getUserProfileThunkCreator =(userId)=>\n    async(dispatch)=>{\n        let data = await profileAPI.getProfile(userId)\n                dispatch(setProfile(data));\n}\nexport const getUserProfileStatusThunkCreator =(userId)=>\n    async(dispatch)=>{\n       let data = await profileAPI.getProfileStatus(userId)\n            dispatch(setStatus(data));\n    }\n\nexport const changeProfileStatusThunkCreator =(status)=>{\n    return(dispatch)=>{\n        profileAPI.changeProfileStatus(status)\n            .then(data=>{\n                if(data.resultCode ===0){\n                    dispatch(setStatus(status))\n                }\n            })\n    }\n}\n\nexport const savePhotoThunkCreator =(filePhoto)=>{\n    return(dispatch)=>{\n        profileAPI.savePhoto(filePhoto)\n            .then(data=>{\n                if(data.resultCode ===0){\n                    dispatch(savePhotoSuccess(data.data.photos))\n                }\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}