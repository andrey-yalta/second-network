{"ast":null,"code":"var _jsxFileName = \"/Users/andrejzaharcenko/Desktop/second-network/src/components/Users/UsersAPIContainer.js\";\nimport React from \"react\";\nimport s from \"./Users.module.css\";\nimport Users from \"./Users\";\nimport PreloaderImg from \"../../common/img/circles.svg\";\nimport { usersAPI } from \"../../api/api\";\n\nclass UsersAPIContainer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    debugger; // это уже санка\n\n    this.props.setUsersThunkCreator(this.props.currentPage, this.props.pageSize);\n    debugger;\n  } //в компоненте снизу можно обращатся к функциям через this напрямую, потому что в рендере Users мы раскукожили props\n\n\n  onPageChange(p) {\n    this.changeCurrentPage(p);\n    this.toggleIsFetching(true);\n    debugger;\n    usersAPI.getUsers(p, this.pageSize).then(data => {\n      this.setUsers(data.items); //тогл это короче начало и конец анимации\n\n      this.toggleIsFetching(false);\n    });\n    debugger;\n  }\n\n  paginator() {}\n\n  render() {\n    let pageCount = this.props.totalCount / this.props.pageSize;\n    let pages = [];\n    {\n      /*захардкодил число страниц - потом надо будет сделать нормально*/\n    }\n\n    for (let i = 1; i < 40; i++) {\n      pages.push(i);\n    }\n\n    debugger;\n\n    if (this.props.isFetching) {\n      console.log(\"fetching true\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, \"Loading... \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        className: s.preloader,\n        src: PreloaderImg,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 42\n        }\n      }));\n    } else {\n      console.log(\"fetching false\");\n      return /*#__PURE__*/React.createElement(Users, Object.assign({\n        pages: pages\n      }, this.props, {\n        onPageChange: this.onPageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }));\n    }\n  }\n\n}\n\nexport default UsersAPIContainer;","map":{"version":3,"sources":["/Users/andrejzaharcenko/Desktop/second-network/src/components/Users/UsersAPIContainer.js"],"names":["React","s","Users","usersAPI","UsersAPIContainer","Component","constructor","props","componentDidMount","setUsersThunkCreator","currentPage","pageSize","onPageChange","p","changeCurrentPage","toggleIsFetching","getUsers","then","data","setUsers","items","paginator","render","pageCount","totalCount","pages","i","push","isFetching","console","log","preloader","PreloaderImg"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,oBAAd;AAEA,OAAOC,KAAP,MAAkB,SAAlB;;AAGA,SAAQC,QAAR,QAAuB,eAAvB;;AAGA,MAAMC,iBAAN,SAAgCJ,KAAK,CAACK,SAAtC,CAAgD;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,aADgB,CAEhB;;AACA,SAAKD,KAAL,CAAWE,oBAAX,CAAgC,KAAKF,KAAL,CAAWG,WAA3C,EAAwD,KAAKH,KAAL,CAAWI,QAAnE;AACA;AACH,GAV2C,CAY5C;;;AACAC,EAAAA,YAAY,CAACC,CAAD,EAAI;AACZ,SAAKC,iBAAL,CAAuBD,CAAvB;AACA,SAAKE,gBAAL,CAAsB,IAAtB;AACA;AACAZ,IAAAA,QAAQ,CAACa,QAAT,CAAkBH,CAAlB,EAAqB,KAAKF,QAA1B,EACKM,IADL,CACUC,IAAI,IAAI;AACV,WAAKC,QAAL,CAAcD,IAAI,CAACE,KAAnB,EADU,CAEV;;AACA,WAAKL,gBAAL,CAAsB,KAAtB;AACH,KALL;AAMA;AACH;;AAEDM,EAAAA,SAAS,GAAG,CACX;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAIC,SAAS,GAAG,KAAKhB,KAAL,CAAWiB,UAAX,GAAwB,KAAKjB,KAAL,CAAWI,QAAnD;AACA,QAAIc,KAAK,GAAG,EAAZ;AACA;AAAC;AACA;;AACD,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzBD,MAAAA,KAAK,CAACE,IAAN,CAAWD,CAAX;AACH;;AACD;;AACA,QAAI,KAAKnB,KAAL,CAAWqB,UAAf,EAA2B;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAhB,eAAqB;AAAK,QAAA,SAAS,EAAE7B,CAAC,CAAC8B,SAAlB;AAA6B,QAAA,GAAG,EAAEC,YAAlC;AAAgD,QAAA,GAAG,EAAC,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArB,CAAR;AACH,KAHD,MAGO;AACHH,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEA,0BAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEL;AAAd,SAAyB,KAAKlB,KAA9B;AAAqC,QAAA,YAAY,EAAE,KAAKK,YAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFJ;AAIH;AACJ;;AAjD2C;;AAoDhD,eAAeR,iBAAf","sourcesContent":["import React from \"react\";\nimport s from \"./Users.module.css\"\n\nimport Users from \"./Users\";\nimport PreloaderImg from \"../../common/img/circles.svg\";\n\nimport {usersAPI} from \"../../api/api\";\n\n\nclass UsersAPIContainer extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        debugger;\n        // это уже санка\n        this.props.setUsersThunkCreator(this.props.currentPage, this.props.pageSize);\n        debugger;\n    }\n\n    //в компоненте снизу можно обращатся к функциям через this напрямую, потому что в рендере Users мы раскукожили props\n    onPageChange(p) {\n        this.changeCurrentPage(p)\n        this.toggleIsFetching(true);\n        debugger;\n        usersAPI.getUsers(p, this.pageSize)\n            .then(data => {\n                this.setUsers(data.items)\n                //тогл это короче начало и конец анимации\n                this.toggleIsFetching(false);\n            })\n        debugger;\n    }\n\n    paginator() {\n    }\n\n    render() {\n        let pageCount = this.props.totalCount / this.props.pageSize\n        let pages = [];\n        {/*захардкодил число страниц - потом надо будет сделать нормально*/\n        }\n        for (let i = 1; i < 40; i++) {\n            pages.push(i);\n        }\n        debugger;\n        if (this.props.isFetching) {\n            console.log(\"fetching true\")\n            return (<div>Loading... <br/><img className={s.preloader} src={PreloaderImg} alt=\"\"/></div>)\n        } else {\n            console.log(\"fetching false\");\n\n            return (\n\n                <Users pages={pages} {...this.props} onPageChange={this.onPageChange}/>\n            )\n        }\n    }\n}\n\nexport default UsersAPIContainer;"]},"metadata":{},"sourceType":"module"}